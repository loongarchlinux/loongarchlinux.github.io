<!doctype html><html lang=en><head><meta charset=utf-8><meta name=theme-color content="#08C"><title>网络启动 - Loong Arch Linux</title>
<link rel=apple-touch-icon href=https://loongarchlinux.org/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon href=https://loongarchlinux.org/images/favicons/favicon-32x32.png sizes=32x32 type=image/png><link rel=icon href=https://loongarchlinux.org/images/favicons/favicon-16x16.png sizes=16x16 type=image/png><link rel=manifest href=https://loongarchlinux.org/images/favicons/manifest.json><link rel=icon href=https://loongarchlinux.org/images/favicons/favicon.ico><meta name=description content><meta itemprop=name content="网络启动"><meta itemprop=description content="关于网络启动 网络引导(Netboot)镜像是个非常小的文件（大约1~2M），可用于在系统启动时从网络下载最新的 Arch Linux 版本。 网络引导(Netboot)镜像本身无需更新，最新发布版本将自动可用。"><meta itemprop=datePublished content="2023-06-11T16:19:48+08:00"><meta itemprop=dateModified content="2023-06-11T16:19:48+08:00"><meta itemprop=wordCount content="666"><meta property="og:url" content="https://loongarchlinux.org/pages/netboot/"><meta property="og:site_name" content="Loong Arch Linux"><meta property="og:title" content="网络启动"><meta property="og:description" content="关于网络启动 网络引导(Netboot)镜像是个非常小的文件（大约1~2M），可用于在系统启动时从网络下载最新的 Arch Linux 版本。 网络引导(Netboot)镜像本身无需更新，最新发布版本将自动可用。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="pages"><meta property="article:published_time" content="2023-06-11T16:19:48+08:00"><meta property="article:modified_time" content="2023-06-11T16:19:48+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="网络启动"><meta name=twitter:description content="关于网络启动 网络引导(Netboot)镜像是个非常小的文件（大约1~2M），可用于在系统启动时从网络下载最新的 Arch Linux 版本。 网络引导(Netboot)镜像本身无需更新，最新发布版本将自动可用。"><link rel=stylesheet href=https://loongarchlinux.org/css/bundle.min.6617023236fd2f4fc2926aad19a1f7c7f5cf3f54da164b7e66fa191bc0df50b7.css integrity="sha256-ZhcCMjb9L0/CkmqtGaH3x/XPP1TaFkt+ZvoZG8DfULc=" crossorigin=anonymous><script src=https://loongarchlinux.org/js/bundle.min.768bdeb9bd73ab1cd90d33fc2593fe406eda212a75f1ae4863387500ef723cbb.js integrity="sha256-doveub1zqxzZDTP8JZP+QG7aISp18a5IYzh1AO9yPLs=" crossorigin=anonymous></script></head><body><div id=archnavbar class=anb-home><div id=archnavbarlogo><h1><a href=/ title="Loong Arch Linux">Loong Arch Linux</a></h1></div><div id=archnavbarmenu><ul id=archnavbarlist><li class=anb-首页><a href=/ title=返回到主页面>首页</a></li><li class=anb-软件包><a href=/packages/ title="Loong Arch Linux 软件包数据库">软件包</a></li><li class=anb-AUR><a href=https://aur.archlinux.org/ title="Arch Linux User Repository" target=_blank>AUR</a></li><li class=anb-下载><a href=/pages/download/ title="下载 Loong Arch Linux">下载</a></li></ul></div></div><div id=content><div id=archdev-navbar></div><div itemscope itemtype=http://schema.org/Article class="news-article box"><h2 itemprop=headline>网络启动</h2><meta itemprop=dateCreated content="2023年06月11日"><meta itemprop=datePublished content="2023年06月11日"><meta itemprop=dateModified content="2023年06月11日"><meta itemprop=inLanguage content="en"><meta itemprop=wordCount content="666"><div class=itemprop itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=name content></div><div class=itemprop itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Loong Arch Linux"></div><p class=article-info>2023年06月11日 -</p><div class=article-content itemprop=articleBody><h2 id=关于网络启动>关于网络启动</h2><p><img class=img-fluid src=/pages/images/ipxe.png alt loading=lazy></p><p>网络引导(Netboot)镜像是个非常小的文件（大约1~2M），可用于在系统启动时从网络下载最新的 Arch Linux 版本。 网络引导(Netboot)镜像本身无需更新，最新发布版本将自动可用。</p><p>网络引导(Netboot) 是使用自定义 iPXE 构建的。 live 系统的 Linux 内核、initramfs 和 squashfs 文件是从 Arch Linux 镜像下载的。</p><h2 id=要求>要求</h2><p>要使用 netboot，必须满足以下要求：</p><ul><li>具有 DHCP 自动配置的有线（以太网）互联网连接</li><li>足够的内存来存储和运行系统</li></ul><h2 id=下载>下载</h2><ul><li><a href=https://mirrors.wsyu.edu.cn/loongarch/archlinux/netboot/ipxe-arch.efi target=_blank>ipxe-arch.efi</a>
- loong64 UEFI 网络引导镜像</li><li><a href=https://mirrors.wsyu.edu.cn/loongarch/archlinux/netboot/ipxe-arch.iso target=_blank>ipxe-arch.iso</a>
- loong64 UEFI iPXE iso</li></ul><h2 id=用法说明>用法说明</h2><p>ipxe.efi 镜像可用于在 UEFI 模式下启动 Arch Linux 网络引导。</p><p>ipxe.efi 镜像可以通过 efibootmgr 添加为启动选项，从 systemd-boot、grub 或 rEFInd 等启动管理器启动，或者直接从 UEFI shell 启动。</p><p>下载文件： ipxe-arch.efi，并保存到 EFI 系统分区 (ESP) 的 <code>/EFI/arch_netboot</code> 目录中。</p><p>假设您的 (ESP) 分区挂载到了 /boot/efi 目录，则参考以下命令：</p><pre tabindex=0><code># mkdir /boot/efi/EFI/arch_netboot
# sudo cp ipxe-arch.efi /boot/efi/EFI/arch_netboot/arch_netboot.efi
</code></pre><h3 id=1-添加为固件启动选项>1. 添加为固件启动选项</h3><p>首先安装 efibootmgr 包，然后下载 UEFI 网络引导镜像。</p><p>假设您的 EFI 系统分区 (ESP) 是 /dev/sda1，在操作系统下使用 efibootmgr 命令，为UEFI 增加一个新的菜单项：</p><pre tabindex=0><code># efibootmgr --create --disk /dev/sda --part 1 --loader /EFI/arch_netboot/arch_netboot.efi --label &#34;Arch Linux Netboot&#34; --unicode
</code></pre><p>之后开机时，通过按 F12 调出快捷菜单，并选择Arch Linux Netboot 来启动网络安装。</p><h3 id=2-通过grub-启动管理器启动>2. 通过Grub 启动管理器启动</h3><p>假设您的<esp> 分区的UUID为1234-5678，则创建 /boot/grub/custom.cfg 文件，内容参考以下内容：</p><pre tabindex=0><code>menuentry &#39;Arch Linux Netboot&#39; {
        insmod part_gpt
        insmod fat
        if [ x$feature_platform_search_hint = xy ]; then
          search --no-floppy --fs-uuid --set=root  1234-5678
        else
          search --no-floppy --fs-uuid --set=root 1234-5678
        fi
        chainloader /EFI/arch_netboot/arch_netboot.efi
}
</code></pre><p>开机进入 Grub 菜单时，将多出一项 Arch Linux Netboot 启动菜单，选择之后，将进入网络安装环境。</p><h3 id=3-从uefi-shell-手动启动>3. 从UEFI Shell 手动启动</h3><p>重启按F12，在界面中选择 UEFI Shell，进入UEFI Shell 环境，输入以下命令启动：</p><pre tabindex=0><code>Shell&gt; fs0:
Shell&gt; EFI\arch_netboot\arch_netboot.efi
</code></pre></div></div></div><div id=footer><p>Copyright © 2022-2025 Community Team. All Rights Reserved.</p><p>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> and the <a href=https://github.com/razonyang/hugo-theme-bootstrap target=_blank>Bootstrap</a> theme.</p></div></body></html>